<!DOCTYPE html>
<html>
<head>
	<title>JavaScript</title>
</head>
<body>
	<label for="dropDown1"> Clock 1 Time Zone</label>
	<select id = "timeZone1">
		
	</select>
<br>
	<label for="dropDown1"> Clock 2 Time Zone</label>
	<select id = "timeZone2">
		
	</select>
	<svg width = "500" height = "500" version="1.1" xmlnx="http://www.w3.org/2000/svg">
	<g id = "clock1">
			<linearGradient id="cir1">
		    <stop offset="0%" stop-color="black"/>
		    <stop offset="50%" stop-color="white"/>
		    <stop offset="100%" stop-color="black"/>
		</linearGradient>
		<linearGradient id="cir2" x1 ="0" x2 = "0" y1 = "0" y2 = "1">
		    <stop offset="0%" stop-color="rgb(63, 64, 63)"/>
		    <stop offset="50%" stop-color="white"/>
		    <stop offset="100%" stop-color="rgb(63, 64, 63)"/>
		</linearGradient>

		<radialGradient id="cir3" cx = "0.5" cy ="0.5" r = "0.5" fx = "0.5" fy = "0.5" spreadMethod = "repeat" >
          <stop offset="0" stop-color="rgb(125, 128, 125)"/>
          <stop offset="100" stop-color="white"/>
      	</radialGradient>

		<circle r="250" cx="250" cy="250" fill="url(#cir1)" stroke="black" stroke-width="not"/>
		<circle r="245" cx="250" cy="250" fill="url(#cir2)" stroke="not" stroke-width="not"/>
		<circle r="220" cx="250" cy="250" fill="rgb(22, 23, 22)" stroke="black" stroke-width="not"/>
		<circle r="215" cx="250" cy="250" fill="rgb(245, 245, 245)" stroke="not" stroke-width="not"/>
		<!-- Small Clock !-->
		<g id = "clock2">
			<circle r="75" cx="175" cy="175" fill="rgb(22, 23, 22)" stroke="black" stroke-width="not" fill-opacity ="0.7"/>
			<circle r="72" cx="175" cy="175" fill="rgb(245, 245, 245)" stroke="not" stroke-width="not" />
			<!-- second marks -->
		<g id = "baseC2">
			<rect x="175" y="102" width="0.21" height="10" fill="black" stroke="black" stroke-width="not"/>
		</g>
		<g id = "base2C2">
			<use xlink:href="#baseC2" transform="rotate(6,175,175)"/>
			<use xlink:href="#baseC2" transform="rotate(12,175,175)"/>
			<use xlink:href="#baseC2" transform="rotate(18,175,175)"/>
			<use xlink:href="#baseC2" transform="rotate(24,175,175)"/>		
		</g>
		<g>
			<use xlink:href="#base2C2" transform="rotate(30,175,175)"/>
			<use xlink:href="#base2C2" transform="rotate(60,175,175)"/>
			<use xlink:href="#base2C2" transform="rotate(90,175,175)"/>
			<use xlink:href="#base2C2" transform="rotate(120,175,175)"/>
			<use xlink:href="#base2C2" transform="rotate(150,175,175)"/>
			<use xlink:href="#base2C2" transform="rotate(180,175,175)"/>
			<use xlink:href="#base2C2" transform="rotate(210,175,175)"/>
			<use xlink:href="#base2C2" transform="rotate(240,175,175)"/>
			<use xlink:href="#base2C2" transform="rotate(270,175,175)"/>
			<use xlink:href="#base2C2" transform="rotate(300,175,175)"/>
			<use xlink:href="#base2C2" transform="rotate(330,175,175)"/>
		</g>
		<g id = "baseHC2">
			<rect x="175" y="102" width="0.41" height="20" fill="black" stroke="black" stroke-width="not"/>
		</g>
		<g>
			<use xlink:href="#baseHC2" transform="rotate(30,175,175)"/>
			<use xlink:href="#baseHC2" transform="rotate(60,175,175)"/>
			<use xlink:href="#baseHC2" transform="rotate(90,175,175)"/>
			<use xlink:href="#baseHC2" transform="rotate(120,175,175)"/>
			<use xlink:href="#baseHC2" transform="rotate(150,175,175)"/>
			<use xlink:href="#baseHC2" transform="rotate(180,175,175)"/>
			<use xlink:href="#baseHC2" transform="rotate(210,175,175)"/>
			<use xlink:href="#baseHC2" transform="rotate(240,175,175)"/>
			<use xlink:href="#baseHC2" transform="rotate(270,175,175)"/>
			<use xlink:href="#baseHC2" transform="rotate(300,175,175)"/>
			<use xlink:href="#baseHC2" transform="rotate(330,175,175)"/>
		</g>
		<g id = "hour2" >
			<path d="m 175 140 v 50 l 10 -10 z" stroke-width="not" stroke="none" fill="black" fill-opacity="0.8"/>
			<path d="m 175 140 v 50 l -10 -10 z" stroke-width="not" stroke="none" fill="black" fill-opacity="0.9"/>
		</g>
		<g id = "minute2">
			<path d="m 175 120 v 70 l 6 -6 z" stroke-width="not" stroke="none" fill="black" fill-opacity="0.9"/>
			<path d="m 175 120 v 70 l -6 -6 z" stroke-width="not" stroke="none" fill="black" fill-opacity="0.8"/>
		</g>
		<g id = "second2">
			<path d="m 175 100 v 90 l 3 -3 z" stroke-width="not" stroke="none" fill="red" fill-opacity="0.9"/>
			<path d="m 175 100 v 90 l -3 -3 z" stroke-width="not" stroke="none" fill="red" fill-opacity="0.8"/>
		</g>
		<circle r="3" cx="175" cy="175" fill="white" stroke="white" stroke-width="not"/>
		</g>
		
		<!-- small clock end here !-->
	<!-- second marks -->
		<g id = "base">
			<rect x="250" y="36" width="0.21" height="10" fill="black" stroke="black" stroke-width="not"/>
		</g>
		<g id = "base1">
			<use xlink:href="#base" transform ="rotate(6,250,250)"/>
			<use xlink:href="#base" transform ="rotate(12,250,250)"/>
			<use xlink:href="#base" transform ="rotate(18,250,250)"/>
			<use xlink:href="#base" transform ="rotate(24,250,250)"/>
		</g>
		<g id = "base2">
			<use xlink:href="#base1" transform ="rotate(30,250,250) "/>
			<use xlink:href="#base1" transform ="rotate(60,250,250)"/>
			<use xlink:href="#base1" transform ="rotate(90,250,250)"/>
			<use xlink:href="#base1" transform ="rotate(120,250,250)"/>
			<use xlink:href="#base1" transform ="rotate(150,250,250)"/>
			<use xlink:href="#base1" transform ="rotate(180,250,250)"/>
			<use xlink:href="#base1" transform ="rotate(210,250,250)"/>
			<use xlink:href="#base1" transform ="rotate(240,250,250)"/>
			<use xlink:href="#base1" transform ="rotate(270,250,250)"/>
			<use xlink:href="#base1" transform ="rotate(300,250,250)"/>
			<use xlink:href="#base1" transform ="rotate(330,250,250)"/>
		</g>
			<!--hours mark -->
		<g id = "hourBase">
			<rect x="250" y="36" width="0.4" height="30" fill="black" stroke="black" stroke-width="not"/>
		</g>
		<g id = "hourBase2">
			<use xlink:href="#hourBase" transform ="rotate(30,250,250)"/>
			<use xlink:href="#hourBase" transform ="rotate(60,250,250)"/>
			<use xlink:href="#hourBase" transform ="rotate(90,250,250)"/>
			<use xlink:href="#hourBase" transform ="rotate(120,250,250)"/>
			<use xlink:href="#hourBase" transform ="rotate(150,250,250)"/>
			<use xlink:href="#hourBase" transform ="rotate(180,250,250)"/>
			<use xlink:href="#hourBase" transform ="rotate(210,250,250)"/>
			<use xlink:href="#hourBase" transform ="rotate(240,250,250)"/>
			<use xlink:href="#hourBase" transform ="rotate(270,250,250)"/>
			<use xlink:href="#hourBase" transform ="rotate(300,250,250)"/>
			<use xlink:href="#hourBase" transform ="rotate(330,250,250)"/>
		</g>

		<g id = "hourText">
			<text >
				<tspan fill="black" x="230" y="100" font-size="40" font-weight="bold" font-family="Times New Roman">12</tspan>
			</text>
			<text>
				<tspan fill="black" x="410" y="265" font-size="40" font-weight="bold" font-family="Times New Roman">3</tspan>
			</text>
			<text>
				<tspan fill="black" x="240" y="430" font-size="40" font-weight="bold" font-family="Times New Roman">6</tspan>
			</text>
			<text>
				<tspan fill="black" x="70" y="265" font-size="40" font-weight="bold" font-family="Times New Roman">9</tspan>
			</text>
		</g>
		<g id = "hour">
			<path d="m 250 120 v 160 l 10 -10 z" stroke-width="not" stroke="none" fill="black" fill-opacity="0.8"/>
			<path d="m 250 120 v 160 l -10 -10 z" stroke-width="not" stroke="none" fill="black" fill-opacity="0.9"/>
		</g>
		<g id = "minute">
			<path d="m 250 80 v 200 l 6 -6 z" stroke-width="not" stroke="none" fill="black" fill-opacity="0.9"/>
			<path d="m 250 80 v 200 l -6 -6 z" stroke-width="not" stroke="none" fill="black" fill-opacity="0.8"/>
		</g>
		<g id = "second">
			<path d="m 250 40 v 240 l 3 -3 z" stroke-width="not" stroke="none" fill="red" fill-opacity="0.9"/>
			<path d="m 250 40 v 240 l -3 -3 z" stroke-width="not" stroke="none" fill="red" fill-opacity="0.8"/>
		</g> 
		<circle r="3" cx="250" cy="250" fill="white" stroke="white" stroke-width="not"/>


	</g>

	

</svg>

</body>

<link rel="stylesheet" type="text/css" href="CSSFile/handStyle.css">
<script type="text/javascript" src = "TimeZone/moment.js"></script>
<script type="text/javascript" src ="TimeZone/moment-timezone-with-data.js"></script>
<script type="text/javascript">
	const hourHand = document.body.querySelector("#hour");
	const minuteHand = document.body.querySelector("#minute");
	const secondHand = document.body.querySelector("#second");

	const hourHand2 = document.body.querySelector("#hour2");
	const minuteHand2 = document.body.querySelector("#minute2");
	const secondHand2 = document.body.querySelector("#second2");

	function runClock(){
		var date = new Date();
		let dropDown1Event = document.body.querySelector("#timeZone1").value;
		console.log("Clock 1 : " +dropDown1Event);
		date = moment(date.getTime()).tz(dropDown1Event);
		let hr = date.hours();
		let min = date.minutes();
		let sec = date.seconds();

		//console.log("hour :" + hr + " minute :" + min + " second :" + sec);
		let secpos = sec *360 /60;
		let minpos = (min * 360 /60) + (secpos/60) ;
		let hrpos = (hr *360 /12) + (minpos/12);


		hourHand.style.transform="rotate(" +hrpos +"deg)";
		minuteHand.style.transform="rotate("+minpos+"deg)";
		secondHand.style.transform="rotate("+secpos+"deg)";
	}


	var interval = setInterval(runClock, 1000);

	

	function runSmallClock(){
		let dateLocal = new Date();
		let dropDown2Event = document.body.querySelector("#timeZone2").value;
		console.log("clock 2 : " + dropDown2Event);
		date = moment(dateLocal.getTime()).tz(dropDown2Event);
		let hr = date.hours();
		let min = date.minutes();
		let sec = date.seconds();

		//console.log("hour :" + hr + " minute :" + min + " second :" + sec);
		let secpos = sec *360 /60;
		let minpos = (min * 360 /60) + (secpos/60) ;
		let hrpos = (hr *360 /12) + (minpos/12);


		hourHand2.style.transform="rotate(" +hrpos +"deg)";
		minuteHand2.style.transform="rotate("+minpos+"deg)";
		secondHand2.style.transform="rotate("+secpos+"deg)";
	}
	
	var interval2 = setInterval(runSmallClock, 1000);
	
	/*const d1 = new Date();
	console.log(d1);
	console.log(d1.toUTCString());
	console.log(d1.getTimezoneOffset());

	var a = moment(d1.getTime()).tz("Europe/London");

	console.log(a.format()); // 2013-11-18T11:55:00+08:00
	console.log("parsing");
	console.log(a.hours());
	console.log(a.minutes());
	console.log(a.seconds());
	*/
	function dropDown(country){
		let option = document.createElement("option");
		option.value = country;
		let textField = document.createTextNode(country);
		option.appendChild(textField);
		let parent = document.body.querySelector("#timeZone1");
		parent.appendChild(option);
	}
	moment.tz.names().forEach(dropDown);

	function dropDown2(country){
		let option = document.createElement("option");
		option.value = country;
		let textField = document.createTextNode(country);
		option.appendChild(textField);
		let parent = document.body.querySelector("#timeZone2");
		parent.appendChild(option);
	}
	moment.tz.names().forEach(dropDown2);

	/*let dropDown1Event = document.body.querySelector("#timeZone1");
	dropDown1Event.addEventListener(onchange, f1(dropDown1Event.value));

	let dropDown2Event = document.body.querySelector("#timeZone2");
	dropDown2Event.addEventListener(onchange, f2(dropDown2Event.value));*/
	//console.log(moment.tz.names()[2]);
</script>
</html>